
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.easybuild.io/manipulating-dependencies/">
      
      <link rel="icon" href="../favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Manipulating dependencies - EasyBuild - building software with ease</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.472b142f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-BLVCH6991S"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-BLVCH6991S",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-BLVCH6991S",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="easybuild" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#manipulating-dependencies" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="EasyBuild - building software with ease" class="md-header__button md-logo" aria-label="EasyBuild - building software with ease" data-md-component="logo">
      
  <img src="../img/easybuild_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EasyBuild - building software with ease
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Manipulating dependencies
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/easybuilders/easybuild-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    EasyBuild @ GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="EasyBuild - building software with ease" class="md-nav__button md-logo" aria-label="EasyBuild - building software with ease" data-md-component="logo">
      
  <img src="../img/easybuild_logo.png" alt="logo">

    </a>
    EasyBuild - building software with ease
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/easybuilders/easybuild-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    EasyBuild @ GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../what-is-easybuild/" class="md-nav__link">
        What is EasyBuild?
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../terminology/" class="md-nav__link">
        Terminology
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../using-easybuild/" class="md-nav__link">
        Using EasyBuild
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/" class="md-nav__link">
        Release notes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        API
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting-help/" class="md-nav__link">
        Getting help
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/easybuilders/easybuild-docs/easybuild-docs/edit/main/docs/manipulating-dependencies.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="manipulating-dependencies">Manipulating dependencies<a class="headerlink" href="#manipulating-dependencies" title="Permanent link">&para;</a></h1>
<h2 id="hide_deps">Installing dependencies as hidden modules using <code>--hide-deps</code><a class="headerlink" href="#hide_deps" title="Permanent link">&para;</a></h2>
<h2 id="minimal_toolchains">Using minimal toolchains for dependencies<a class="headerlink" href="#minimal_toolchains" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This page will soon replace <a href="https://docs.easybuild.io/en/latest/Manipulating_dependencies.html">https://docs.easybuild.io/en/latest/Manipulating_dependencies.html</a>.</p>
<p><strong>
It still needs to be ported from <em>reStructuredText</em> (.rst) to <em>MarkDown</em> (.md),<br />
and you can help with that!
</strong></p>
<ul>
<li>source: <a href="https://raw.githubusercontent.com/easybuilders/easybuild/develop/docs/Manipulating_dependencies.rst"><code>docs/Manipulating_dependencies.rst</code> in <code>easybuilders/easybuild</code> repo</a></li>
<li>target: <a href="https://github.com/easybuilders/easybuild-docs/tree/main/docs/manipulating-dependencies.md"><code>docs/manipulating-dependencies.md</code> in <code>easybuilders/easybuild-docs</code> repo</a></li>
</ul>
<p>See <a href="https://github.com/easybuilders/easybuild-docs">https://github.com/easybuilders/easybuild-docs</a> for more information.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="p">..</span> <span class="nt">_manipulating_dependencies:</span>

<span class="gh">Manipulating dependencies</span>
<span class="gh">=========================</span>

A couple of different ways are available to manipulate the list of dependencies that are specified for the software
packages being installed.

<span class="p">..</span> <span class="ow">contents</span><span class="p">::</span>
    <span class="nc">:depth:</span> 3
    <span class="nc">:backlinks:</span> none

<span class="p">..</span> <span class="nt">_filter_deps:</span>

<span class="gh">Filtering out dependencies using ``--filter-deps``</span>
<span class="gh">--------------------------------------------------</span>

To avoid that certain dependencies are being installed, a list of software names can be specified to <span class="s">``--filter-deps``</span>.
Any time a dependency with a name from this list is specified, it will be simply filtered out by EasyBuild, and
thus disregarded when resolving dependencies, loading modules for the dependencies in the build environment, and
including &#39;<span class="s">``module load``</span>&#39; statements in the generated module files.

This can be useful when particular tools and libraries are already provided by OS packages (or in some other way),
and should not be reinstalled as modules by EasyBuild.

For example:

<span class="m">*</span> overview of dependencies of HDF5::

    $ eb HDF5-1.8.13-intel-2015a.eb -D
<span class="cp">     ...</span>
<span class="cp">     * [ ] $CFGS/i/intel/intel-2015a.eb (module: intel/2015a)</span>
<span class="cp">     * [ ] $CFGS/z/zlib/zlib-1.2.8-intel-2015a.eb (module: zlib/1.2.8-intel-2015a)   </span>
<span class="cp">     * [ ] $CFGS/s/Szip/Szip-2.1-intel-2015a.eb (module: Szip/2.1-intel-2015a)</span>
<span class="cp">     * [ ] $CFGS/h/HDF5/HDF5-1.8.13-intel-2015a.eb (module: HDF5/1.8.13-intel-2015a)</span>

<span class="m">*</span> overview of dependencies of HDF5, with zlib and Szip excluded::

    $ eb HDF5-1.8.13-intel-2015a.eb --filter-deps=zlib,Szip -D 
<span class="cp">     ... </span>
<span class="cp">     * [ ] $CFGS/i/intel/intel-2015a.eb (module: intel/2015a)</span>
<span class="cp">     * [ ] $CFGS/h/HDF5/HDF5-1.8.13-intel-2015a.eb (module: HDF5/1.8.13-intel-2015a)</span>


<span class="p">..</span> <span class="nt">_filter_deps_by_version:</span>

<span class="gh">Filtering dependencies based on version</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

Since EasyBuild v3.8.0, filtering dependencies based on their version is also supported.

For each entry in <span class="s">``--filter-deps``</span>, the expected format is either:

<span class="m">*</span> <span class="s">``&lt;name&gt;``</span>: a software name without any version specification, to indicate that this dependency
  should <span class="ge">*always*</span> be filtered out (regardless of its version)

  <span class="m">*</span> examples: <span class="s">``X11``</span>, <span class="s">``zlib``</span>

<span class="m">*</span> <span class="s">``&lt;name&gt;=&lt;version&gt;``</span>: a software name and version, to indicate that a <span class="ge">*particular version*</span> of this dependency
  should be filtered out

  <span class="m">*</span> examples: <span class="s">``zlib=1.2.8``</span>, <span class="s">``ncurses=5.9``</span>

<span class="m">*</span> <span class="s">``&lt;name&gt;=&lt;lower_limit&gt;:&lt;upper_limit&gt;``</span>: a software name and a version range, to indicate that any version
  of this dependency that falls <span class="ge">*within the specified range*</span> should be filtered out

When a version range is specified, a lower limit and/or upper limit <span class="ge">*can*</span> be specified (separated by <span class="s">``:``</span>).
In other words, the version range can be open ended. The <span class="s">``:``</span> separator is strictly required.

For both limits, you <span class="ge">*must*</span> indicate whether it is either:

<span class="m">*</span> <span class="ge">*inclusive*</span>, by using <span class="s">``[``</span> for the lower limit, and <span class="s">``]``</span> for the upper limit
<span class="m">*</span> <span class="ge">*exclusive*</span>, by using <span class="s">``]``</span> for the lower limit, and <span class="s">``[``</span> for the upper limit

Examples:

<span class="m">*</span> to filter out <span class="s">``zlib``</span> version <span class="s">``1.2``</span> up until <span class="s">``1.2.99``</span> (incl.), use: <span class="s">``zlib=[1.2:1.2.99]``</span>

<span class="m">*</span> to filter out <span class="s">``ncurses``</span> version 5.0 or newer, use: <span class="s">``ncurses=[5.0:``</span>

<span class="m">*</span> to filter out any version of <span class="s">``CMake``</span> that is older than <span class="s">``4.0``</span>, use: <span class="s">``CMake=:4.0[``</span>


<span class="p">..</span> <span class="nt">_hide_deps:</span>

<span class="gh">Installing dependencies as hidden modules using ``--hide-deps``</span>
<span class="gh">---------------------------------------------------------------</span>

Selected software packages can be marked to be installed as hidden modules (i.e., modules that are not visible via
&#39;<span class="s">``module avail``</span>&#39;, but can be loaded) whenever they are included as a dependency, via the <span class="s">``--hide-deps``</span>
configuration option.

For example (note the preceding &#39;<span class="s">``.``</span>&#39; in the last part of the module names for zlib and Szip)<span class="se">::</span>

<span class="s"> $ eb HDF5-1.8.13-intel-2015a.eb --hide-deps=zlib,Szip -D</span>
<span class="s">  ...</span>
<span class="s">  * [ ] $CFGS/i/intel/intel-2015a.eb (module: intel/2015a)</span>
<span class="s">  * [ ] $CFGS/z/zlib/zlib-1.2.8-intel-2015a.eb (module: zlib/.1.2.8-intel-2015a)</span>
<span class="s">  * [ ] $CFGS/s/Szip/Szip-2.1-intel-2015a.eb (module: Szip/.2.1-intel-2015a)</span>
<span class="s">  * [ ] $CFGS/h/HDF5/HDF5-1.8.13-intel-2015a.eb (module: HDF5/1.8.13-intel-2015a)</span>


<span class="p">..</span> <span class="ow">note</span><span class="p">::</span>
  Using Lmod (version &gt;= 5.7.5), hidden modules can be made visible in the output of &#39;<span class="s">``module avail``</span>&#39; using the
  <span class="s">``--show-hidden``</span> option.

  For example<span class="se">::</span>

<span class="s">   $ module avail bzip2</span>

<span class="s">   Use &quot;module spider&quot; to find all possible modules.</span>
<span class="s">   Use &quot;module keyword key1 key2 ...&quot; to search for all possible modules matching any of the &quot;keys&quot;.</span>

<span class="s">   $ module --show-hidden avail bzip2</span>
<span class="s">   ----- /home/example/.local/easybuild/modules/all -----</span>
<span class="s">   bzip2/.1.0.6</span>

<span class="s">   Use &quot;module spider&quot; to find all possible modules.</span>
<span class="s">   Use &quot;module keyword key1 key2 ...&quot; to search for all possible modules matching any of the &quot;keys&quot;.</span>


<span class="p">..</span> <span class="nt">_minimal_toolchains:</span>

<span class="gh">Using minimal toolchains for dependencies</span>
<span class="gh">-----------------------------------------</span>

By default, EasyBuild will try to resolve dependencies using the same toolchain as the one that is used for the
software being installed, unless a specific toolchain is specified for the dependency itself
(see <span class="na">:ref:</span><span class="nv">`dependency_specs`</span>).

Using the <span class="s">``--minimal-toolchains``</span> configuration option, you can instruct EasyBuild to consider subtoolchains
for dependencies in the reverse order (from the bottom of the toolchain hierarchy to the top). This can be useful to
refrain from having to frequently hardcode specific toolchains in order to avoid having the same dependency version
installed with multiple toolchains that are compatible with each other. Although hardcoding the toolchain for
dependencies will work fine, it severely limits the power of other EasyBuild features, like <span class="s">``--try-toolchain``</span> for
example.

When instructed to use minimal toolchains, EasyBuild will check whether an easyconfig file is available (in the robot
search path, see <span class="na">:ref:</span><span class="nv">`robot_search_path`</span>) for that dependency using the different subtoolchains of the toolchain
specified for the &#39;parent&#39; software. Subtoolchains are considered &#39;bottom-up&#39;, i.e. starting with the most minimal
subtoolchain (typically a compiler-only toolchain), and then climbing up towards the toolchain that is specified for
the software being installed.

Note that if a specific toolchain is specified for a particular dependency, EasyBuild will stick to using it, even
when instructed to use minimal toolchains. Also note that as of v3.0, if no easyconfig exists to resolve a dependency
using the default toolchain EasyBuild will search for the dependency using a compatible subtoolchain (the
difference being that the search order is from the top of the toolchain hierarchy to the bottom).

<span class="p">..</span> <span class="nt">_minimal_toolchains_system:</span>

<span class="gh">Considering ``system`` as minimal toolchain</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

The <span class="na">:ref:</span><span class="nv">`system_toolchain`</span> is only considered as the most minimal subtoolchain if the
<span class="s">``--add-system-to-minimal-toolchains``</span> configuration option is enabled.
By default, this configuration option is <span class="ge">*disabled*</span>.

<span class="p">..</span> <span class="nt">_minimal_toolchains_existing_modules:</span>

<span class="gh">Taking existing modules into account</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

You can instruct EasyBuild to take existing modules into account when determining which subtoolchain should be used
for each of the dependencies, using the <span class="s">``--use-existing-modules``</span> configuration option.

By default existing modules are ignored, meaning that the EasyBuild dependency resolution mechanism will pick a
minimal toolchain for each dependency solely based on the available easyconfig files (if the <span class="s">``--minimal-toolchains``</span>
configuration option is enabled, that is).

With <span class="s">``--use-existing-modules``</span> enabled, EasyBuild will first check whether modules exist for the dependencies that were
built with the toolchain or any of the subtoolchains (searching top-down). If so, the toolchain of the first encountered
existing module will determine the toolchain being selected. If not, the toolchain to use will be determined based on the
available easyconfig files.

<span class="p">..</span> <span class="nt">_minimal_toolchains_example:</span>

<span class="gh">Example</span>
<span class="gh">~~~~~~~</span>

Consider the following (partial) easyconfig file for Python v2.7.9 with the <span class="s">``foss/2015b``</span> toolchain<span class="se">::</span>

<span class="s">    name = &#39;Python&#39;</span>
<span class="s">    version = &#39;2.7.9&#39;</span>

<span class="s">    toolchain = {&#39;name&#39;: &#39;foss&#39;, &#39;version&#39;: &#39;2015b&#39;}</span>

<span class="s">    dependencies = [</span>
<span class="s">        (&#39;zlib&#39;, &#39;1.2.8&#39;),</span>
<span class="s">    ]</span>

When the <span class="s">``--minimal-toolchains``</span> configuration option is enabled, EasyBuild will also consider the subtoolchains
<span class="s">``GCC/4.9.3``</span> and <span class="s">``gompi/2015b``</span> of the <span class="s">``foss/2015b``</span> toolchain (in that order) as potential minimal toolchains
when determining the toolchain to use for dependencies.

So, for the zlib v1.2.8 dependency included in the example above, the following scenarios are possible:

<span class="m">*</span> without the use of <span class="s">``--minimal-toolchains``</span>, the default behaviour of EasyBuild is to first consider the
  <span class="s">``foss/2015b``</span> toolchain for zlib v1.2.8, if no such easyconfig file is found, it will continue searching using the
  <span class="s">``gompi/2015b``</span> toolchain, and finally the <span class="s">``GCC/4.9.3``</span> toolchain
<span class="m">*</span> if (only) <span class="s">``--minimal-toolchains``</span> is enabled, EasyBuild will search for an easyconfig file for
  zlib v1.2.8 using the <span class="s">``GCC/4.9.3``</span> toolchain; if no such easyconfig file is found, it will continue searching
  using the <span class="s">``gompi/2015b``</span> toolchain, and finally the <span class="s">``foss/2015b``</span> toolchain
<span class="m">*</span> if <span class="s">``--add-system-to-minimal-toolchains``</span> is also enabled, EasyBuild will try locating an easyconfig file for
  zlib v1.2.8 that uses the <span class="s">``system``</span> toolchain prior to considering the <span class="s">``GCC/4.9.3``</span> toolchain
<span class="m">*</span> additionally, with <span class="s">``--use-existing-modules``</span> enabled, EasyBuild will first check whether a <span class="s">``zlib``</span> module for
  version 1.2.8 built with the (sub)toolchains being considered exists; if not, it will search for an easyconfig file
  for zlib as outlined above
</code></pre></div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 13, 2022</span>
      
    
  </small>
</div>


  




                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://twitter.com/easy_build" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.youtube.com/c/easybuilders" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://docs.easybuild.io" target="_blank" rel="noopener" title="docs.easybuild.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96zm0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["instant", "navigation.top", "toc.integrate"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
    
  </body>
</html>