
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.easybuild.io/implementing-easyblocks/">
      
      <link rel="icon" href="../favicon.ico">
      <meta name="generator" content="mkdocs-1.4.1, mkdocs-material-8.5.7">
    
    
      
        <title>Implementing easyblocks - EasyBuild - building software with ease</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="easybuild" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#implementing-easyblocks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="EasyBuild - building software with ease" class="md-header__button md-logo" aria-label="EasyBuild - building software with ease" data-md-component="logo">
      
  <img src="../img/easybuild_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EasyBuild - building software with ease
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Implementing easyblocks
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/easybuilders/easybuild-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    EasyBuild @ GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="EasyBuild - building software with ease" class="md-nav__button md-logo" aria-label="EasyBuild - building software with ease" data-md-component="logo">
      
  <img src="../img/easybuild_logo.png" alt="logo">

    </a>
    EasyBuild - building software with ease
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/easybuilders/easybuild-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    EasyBuild @ GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../what-is-easybuild/" class="md-nav__link">
        What is EasyBuild?
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../terminology/" class="md-nav__link">
        Terminology
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../using-easybuild/" class="md-nav__link">
        Using EasyBuild
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/" class="md-nav__link">
        Release notes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        API
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting-help/" class="md-nav__link">
        Getting help
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/easybuilders/easybuild-docs/easybuild-docs/edit/main/docs/implementing-easyblocks.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="implementing-easyblocks">Implementing easyblocks<a class="headerlink" href="#implementing-easyblocks" title="Permanent link">&para;</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This page will soon replace <a href="https://docs.easybuild.io/en/latest/Implementing-easyblocks.html">https://docs.easybuild.io/en/latest/Implementing-easyblocks.html</a>.</p>
<p><strong>
It still needs to be ported from <em>reStructuredText</em> (.rst) to <em>MarkDown</em> (.md),<br />
and you can help with that!
</strong></p>
<ul>
<li>source: <a href="https://raw.githubusercontent.com/easybuilders/easybuild/develop/docs/Implementing-easyblocks.rst"><code>docs/Implementing-easyblocks.rst</code> in <code>easybuilders/easybuild</code> repo</a></li>
<li>target: <a href="https://github.com/easybuilders/easybuild-docs/tree/main/docs/implementing-easyblocks.md"><code>docs/implementing-easyblocks.md</code> in <code>easybuilders/easybuild-docs</code> repo</a></li>
</ul>
<p>See <a href="https://github.com/easybuilders/easybuild-docs">https://github.com/easybuilders/easybuild-docs</a> for more information.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="p">..</span> <span class="nt">_implementing_easyblocks:</span>

<span class="gh">Implementing easyblocks</span>
<span class="gh">=======================</span>

This documentation covers aspects of implementing <span class="ge">*easyblocks*</span> and how to use them.
For a concise definition of easyblocks, see <span class="na">:ref:</span><span class="nv">`easyblocks`</span>.

<span class="p">..</span> <span class="ow">contents</span><span class="p">::</span>
    <span class="nc">:depth:</span> 3
    <span class="nc">:backlinks:</span> none


<span class="p">..</span> <span class="nt">_implementing_easyblocks_basics:</span>

<span class="gh">The basics</span>
<span class="gh">----------</span>

An <span class="ge">*easyblock*</span> is a Python module that implements a software build and installation procedure.

This concept is essentially implemented as a Python script that plugs into the <span class="na">:ref:</span><span class="nv">`framework`</span>.

EasyBuild will leverage easyblocks as needed, depending on which software packages it needs to install.
Which easyblock is required is determined by the <span class="s">``easyblock``</span> easyconfig parameter, if it is present,
or the software name (see <span class="na">:ref:</span><span class="nv">`implementing_easyblocks_generic_vs_software_specific`</span>).


<span class="p">..</span> <span class="nt">_implementing_easyblocks_generic_vs_software_specific:</span>

<span class="gh">Generic vs software-specific easyblocks</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

Easyblocks can either be <span class="ge">*generic*</span> or <span class="ge">*software-specific*</span>.

Generic easyblocks implement a &#39;standard&#39; software build and installation procedure that is used by multiple different
software packages.
A commonly used example is the
<span class="s">`ConfigureMake </span><span class="si">&lt;https://github.com/easybuilders/easybuild-easyblocks/blob/main/easybuild/easyblocks/generic/configuremake.py&gt;</span><span class="s">`_</span>
generic easyblock, which implements the standard <span class="s">``configure``</span> - <span class="s">``make``</span> - <span class="s">``make install``</span> installation procedure used
by most GNU software packages.

Software-specific easyblocks implement the build and installation procedure for a particular software package
(see also <span class="na">:ref:</span><span class="nv">`implementing_easyblocks_naming_scheme_module`</span>).
Typically this involves highly customised substeps, for example specifying dedicated configuration options, creating
or adjusting specific files, executing non-standard shell commands, etc. Usually a custom implementation of the
sanity check is also included.

Since EasyBuild v2.0, using a generic easyblock requires specifying the <span class="s">``easyblock``</span> parameter in the easyconfig file.
If it is not specified, EasyBuild will try and find the software-specific easyblock derived from the software name.

The distinction between generic and software-specific easyblocks can be made based on the naming scheme that is used
for an easyblock (see also <span class="na">:ref:</span><span class="nv">`implementing_easyblocks_naming_scheme`</span>).

See also <span class="na">:ref:</span><span class="nv">`generic_easyblocks`</span>.


<span class="p">..</span> <span class="nt">_implementing_easyblocks_vs_easyconfigs:</span>

<span class="gh">Easyblocks vs easyconfigs</span>
<span class="gh">-------------------------</span>

Before you start implementing an easyblock, you should determine whether or not you really need an easyblock.

<span class="na">:ref:</span><span class="nv">`easyconfig_files`</span> provide quite a bit of flexibility that alleviate the need for implementing many (software-specific)
easyblocks. Examples include easyconfig parameters like <span class="s">``(pre){config,build,installopts}``</span> (available for any easyblock),
<span class="s">``install_cmd``</span> (only for <span class="s">``Binary``</span> generic easyblock or derivates), etc. See <span class="na">:ref:</span><span class="nv">`writing_easyconfig_files`</span> for an
overview of what is supported in easyconfig files, and <span class="na">:ref:</span><span class="nv">`generic_easyblocks`</span> for custom easyconfig parameters for
the existing generic easyblocks (see also &#39;<span class="s">``eb -e &lt;easyblock&gt; -a``</span>&#39;).

On the other hand, somewhat complex or heavily customised software build and installation procedures may be handled better
via a custom easyblock.

Easyblocks are &quot;do once and forget&quot;, and can provide a <span class="ge">*central*</span> solution for peculiarities of installations.
Since they are basically Python scripts, they are very flexible and can take care of the
&#39;heavy lifting&#39; that goes beyond the key-value defining scope of easyconfig files.

Hence, there is a fine line between using &#39;fat&#39; easyconfigs with a generic easyblock and using a custom software-specific easyblock.

Reasons to consider implementing a custom easyblock include:

<span class="m">*</span> &#39;critical&#39; values for easyconfig parameters, which are required to make the installation succeed
<span class="m">*</span> compiler- or toolchain-specific aspects of the build and installation procedure (e.g., configure/build/install options)
<span class="m">*</span> interactive commands that need to be run
<span class="m">*</span> custom (configure) options for dependencies
<span class="m">*</span> having to create or adjust specific (configuration) files
<span class="m">*</span> &#39;hackish&#39; usage of existing (generic) easyblocks and available easyconfig parameters

One important aspect to consider of course is that implementing easyblocks requires some familiarity with Python,
while easyconfig files can mostly be seen as a set of pure key-value definitions and hence are easier to create or
update.


<span class="p">..</span> <span class="nt">_implementing_easyblocks_naming_scheme:</span>

<span class="gh">Naming scheme for easyblocks</span>
<span class="gh">----------------------------</span>

Easyblocks need to follow a strict naming scheme, to ensure that EasyBuild can pick them up as needed.
This involves two aspects: i) the name of the Python class, and ii) the name and location of the Python module file.


<span class="p">..</span> <span class="nt">_implementing_easyblocks_naming_scheme_class_name_specific:</span>

<span class="gh">Class name for software-specific easyblocks</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

The name of the Python class is determined by the <span class="ge">*software name*</span> for software-specific easyblocks.
It consists of a prefix &#39;<span class="s">``EB_``</span>&#39;, followed by the (original) software name.

Because of limitations in Python on characters allowed in names of Python classes,
only alphanumeric characters and <span class="s">``_``</span> are allowed. Any other characters are replaced following an encoding scheme:

<span class="m">*</span> spaces are replaced by underscores (<span class="s">``_``</span>)
<span class="m">*</span> dashes <span class="s">``-``</span> are replaced by <span class="s">``_minus_``</span>
<span class="m">*</span> underscores are replaced by <span class="s">``_underscore_``</span>
<span class="m">*</span> etc.

The <span class="s">``encode_class_name``</span> function provided in <span class="s">``easybuild.tools.filetools``</span> returns the expected class name
for a given software name; for example:

<span class="p">..</span> <span class="ow">code</span><span class="p">::</span>

  &gt;&gt;&gt; from easybuild.tools.filetools import encode_class_name
  &gt;&gt;&gt; encode_class_name(&#39;netCDF-Fortran&#39;)
  &#39;EB_netCDF_minus_Fortran&#39;


<span class="p">..</span> <span class="nt">_implementing_easyblocks_naming_scheme_class_name_generic:</span>

<span class="gh">Class name for generic easyblocks</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

For <span class="ge">*generic*</span> easyblocks, the class name does <span class="ge">*not*</span> include an <span class="s">``EB_``</span> prefix (since there is no need for an escaping
mechanism) and hence the name is fully free to choose, taking into account the restriction to alphanumeric characters
and underscores.

For code style reasons, the class name should start with a capital letter.

Examples include <span class="s">``Bundle``</span>, <span class="s">``ConfigureMake``</span>, <span class="s">``CMakePythonPackage``</span>.


<span class="p">..</span> <span class="nt">_implementing_easyblocks_naming_scheme_module:</span>

<span class="gh">Module name/location</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~</span>

The <span class="ge">*name*</span> of the Python module file is directly related to the name of Python class (i.e., the actual easyblock) that it provides.

It should:

<span class="m">*</span> <span class="ge">*not*</span> include the <span class="s">``EB_``</span> prefix of the class name for software-specific easyblocks
<span class="m">*</span> consists only of lower-case alphanumeric characters (<span class="s">``[a-z0-9]``</span>) and underscores (<span class="s">``_``</span>)

  <span class="m">*</span> dashes (<span class="s">``-``</span>) are replaced by underscores (<span class="s">``_``</span>)
  <span class="m">*</span> any other non-alphanumeric characters (incl. spaces) are simply dropped

Examples include:

<span class="m">*</span> <span class="s">``gcc.py``</span> (for <span class="ge">*GCC*</span>)
<span class="m">*</span> <span class="s">``netcdf_fortran.py``</span> (for <span class="ge">*netCDF-Fortran*</span>)
<span class="m">*</span> <span class="s">``gamess_us.py``</span> (for <span class="ge">*GAMESS (US)*</span>)

The <span class="s">``get_module_path``</span> function provided in <span class="s">``easybuild.framework.easyconfig.easyconfig``</span> returns the (full)
module location for a particular software name or easyblock class name; for example:

<span class="p">..</span> <span class="ow">code</span><span class="p">::</span>

  &gt;&gt;&gt; from easybuild.framework.easyconfig.easyconfig import get_module_path
  &gt;&gt;&gt; get_module_path(&#39;netCDF-Fortran&#39;)
  &#39;easybuild.easyblocks.netcdf_fortran&#39;
  &gt;&gt;&gt; get_module_path(&#39;EB_netCDF_minus_Fortran&#39;)
  &#39;easybuild.easyblocks.netcdf_fortran&#39;

The location of the Python module is determined by whether the easyblock is generic or software-specific.
Generic easyblocks are located in the <span class="s">``easybuid.easyblocks.generic``</span> namespace, while software-specific easyblocks
live in the <span class="s">``easybuild.easyblocks``</span> namespace directly. To keep things organised, the actual Python module file
for software-specific easyblocks are kept in &#39;letter&#39; subdirectories,
rather than in one large &#39;<span class="s">``easyblocks``</span>&#39; directory
(see https://github.com/easybuilders/easybuild-easyblocks/blob/main/easybuild/easyblocks/).

Note that you shouldn&#39;t concern yourself too much with getting the location of an easyblock right, as long as you
use <span class="s">``--include-easyblocks``</span> to make EasyBuild use additional or customised easyblocks
(see <span class="na">:ref:</span><span class="nv">`include_easyblocks`</span> for more information).


<span class="p">..</span> <span class="nt">_implementing_easyblocks_structure:</span>

<span class="gh">Structure of an easyblock</span>
<span class="gh">-------------------------</span>

The example below shows the overall structure of an easyblock:

<span class="p">..</span> <span class="ow">code</span><span class="p">::</span> <span class="k">python</span>

    <span class="kn">from</span> <span class="nn">easybuild.framework.easyblock</span> <span class="kn">import</span> <span class="n">EasyBlock</span>
    <span class="kn">from</span> <span class="nn">easybuild.tools.run</span> <span class="kn">import</span> <span class="n">run_cmd</span>

    <span class="k">class</span> <span class="nc">EB_Example</span><span class="p">(</span><span class="n">EasyBlock</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Custom easyblock for Example&quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">configure_step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Custom implementation of configure step for Example&quot;&quot;&quot;</span>

            <span class="c1"># run configure.sh to configure the build</span>
            <span class="n">run_cmd</span><span class="p">(</span><span class="s2">&quot;./configure.sh --install-prefix=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">installdir</span><span class="p">)</span>


Each easyblock includes an implementation of a <span class="s">``class``</span> that (directly or indirectly) derives from the abstract
<span class="s">``EasyBlock``</span> class.

Typically some useful functions provided by the EasyBuild framework are imported at the top of the Python module.

In the class definition, one or more &#39;<span class="s">``*_step``</span>&#39; methods are redefined, to implement the corresponding step
in the build and installation procedure.

Each easyblock <span class="ge">*must*</span> implement the <span class="s">``configure``</span>, <span class="s">``build``</span> and <span class="s">``install``</span> steps, since these are not implemented
in the abstract <span class="s">``EasyBlock``</span> class. This could be done explicitly by redefining the corresponding <span class="s">``*_step``</span> methods,
or implicitly by deriving from existing (generic) easyblocks.


<span class="p">..</span> <span class="nt">_implementing_easyblocks_deriving:</span>

<span class="gh">Deriving from existing (generic) easyblocks</span>
<span class="gh">-------------------------------------------</span>

When implementing an easyblock, it is common to derive from an existing (usually generic) easyblock,
and to leverage the functionality provided by it. This approach is typically used when only a specific part
of the build and installation procedure needs to be customised.

In the (fictitious) example below, we derive from the generic <span class="s">``ConfigureMake``</span> easyblock to redefine the <span class="s">``configure``</span>
step. In this case, we are <span class="ge">*extending*</span> the <span class="s">``configure``</span> step as implemented by <span class="s">``ConfigureMake``</span> rather than
redefining it entirely, since we call out to the original <span class="s">``configure_step``</span> method at the end.

<span class="p">..</span> <span class="ow">code</span><span class="p">::</span> <span class="k">python</span>

    <span class="kn">from</span> <span class="nn">easybuild.easyblocks.generic.configuremake</span> <span class="kn">import</span> <span class="n">ConfigureMake</span>
    <span class="kn">from</span> <span class="nn">easybuild.tools.filetools</span> <span class="kn">import</span> <span class="n">copy_file</span>

    <span class="k">class</span> <span class="nc">EB_Example</span><span class="p">(</span><span class="n">ConfigureMake</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Custom easyblock for Example&quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">configure_step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Custom implementation of configure step for Example&quot;&quot;&quot;</span>

            <span class="c1"># use example make.cfg for x86-64</span>
            <span class="n">copy_file</span><span class="p">(</span><span class="s1">&#39;make.cfg.x86&#39;</span><span class="p">,</span> <span class="s1">&#39;make.cfg&#39;</span><span class="p">)</span>

            <span class="c1"># call out to original configure_step implementation of ConfigureMake easyblock</span>
            <span class="nb">super</span><span class="p">(</span><span class="n">EB_Example</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">configure_step</span><span class="p">()</span>


<span class="p">..</span> <span class="nt">_implementing_easyblocks_specifics:</span>

<span class="gh">Specific aspects of easyblocks</span>
<span class="gh">------------------------------</span>

<span class="p">..</span> <span class="nt">_implementing_easyblocks_default_parameters:</span>

<span class="gh">Default easyconfig parameters</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

All of the parameters which are &quot;set&quot; in an easyconfig file (see <span class="na">:ref:</span><span class="nv">`vsd_avail_easyconfig_params`</span>)
become key-value pairs in the <span class="s">``self.cfg``</span> dictionary.  For instance, if the easyconfig file specifies

<span class="p">..</span> <span class="ow">code</span><span class="p">::</span> <span class="k">python</span>

  <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;example&#39;</span>
  <span class="n">version</span> <span class="o">=</span> <span class="s1">&#39;2.5.3&#39;</span>
  <span class="n">versionsuffix</span> <span class="o">=</span> <span class="s1">&#39;-Python-3.7.4&#39;</span>

then these three parameters are accessible within an easyblock via

<span class="p">..</span> <span class="ow">code</span><span class="p">::</span> <span class="k">python</span>

  <span class="n">longform</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfg</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span><span class="s1">&#39;/&#39;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">cfg</span><span class="p">[</span><span class="s1">&#39;version&#39;</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">cfg</span><span class="p">[</span><span class="s1">&#39;versionsuffix&#39;</span><span class="p">])</span>

You can use this notation successfully in your easyblock.  A few of the most commonly used parameters can be referenced
directly,

<span class="m">*</span> <span class="gs">**self.name**</span> = <span class="s">``self.cfg[&#39;name&#39;]``</span>
<span class="m">*</span> <span class="gs">**self.version**</span> = <span class="s">``self.cfg[&#39;version&#39;]``</span>
<span class="m">*</span> <span class="gs">**self.toolchain**</span> = <span class="s">``self.cfg[&#39;toolchain&#39;]``</span>
<span class="m">*</span> <span class="gs">**self.all_dependencies**</span>: combines <span class="s">``builddependencies``</span>, <span class="s">``dependencies``</span>, and <span class="s">``toolchain``</span>, in one dictionary

So in your easyblock code, you may replace the above expression with

<span class="p">..</span> <span class="ow">code</span><span class="p">::</span> <span class="k">python</span>

  <span class="n">longform</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="s1">&#39;/&#39;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">cfg</span><span class="p">[</span><span class="s1">&#39;versionsuffix&#39;</span><span class="p">])</span>

The other easyconfig parameters, and any additional :ref:`custom parameters
<span class="nt">&lt;implementing_easyblocks_custom_parameters&gt;</span>` which you define for your own easyblock, will not be automatically mapped.
You will need to use <span class="s">``self.cfg``</span> to access them in your code.


<span class="p">..</span> <span class="nt">_implementing_easyblocks_custom_parameters:</span>

<span class="gh">Custom easyconfig parameters</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

In an easyblock, additional custom easyconfig parameters can be defined to steer the behaviour of the easyblock.
This is done via the <span class="s">``extra_options``</span> static method. Custom parameters can be defined to be mandatory or optional.

The example below shows how this can be implemented:

<span class="p">..</span> <span class="ow">code</span><span class="p">::</span> <span class="k">python</span>

    <span class="kn">from</span> <span class="nn">easybuild.easyblocks.generic.configuremake</span> <span class="kn">import</span> <span class="n">ConfigureMake</span>
    <span class="kn">from</span> <span class="nn">easybuild.framework.easyconfig</span> <span class="kn">import</span> <span class="n">CUSTOM</span><span class="p">,</span> <span class="n">MANDATORY</span>

    <span class="k">class</span> <span class="nc">EB_Example</span><span class="p">(</span><span class="n">ConfigureMake</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Custom easyblock for Example&quot;&quot;&quot;</span>

        <span class="nd">@staticmethod</span>
        <span class="k">def</span> <span class="nf">extra_options</span><span class="p">():</span>
            <span class="sd">&quot;&quot;&quot;Custom easyconfig parameters for Example&quot;&quot;&quot;</span>
            <span class="n">extra_vars</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;required_example_param&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Help text for required example custom parameter&quot;</span><span class="p">,</span> <span class="n">MANDATORY</span><span class="p">],</span>
                <span class="s1">&#39;optional_example_param&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Help text for (optional) example custom parameter&quot;</span><span class="p">,</span> <span class="n">CUSTOM</span><span class="p">],</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">ConfigureMake</span><span class="o">.</span><span class="n">extra_options</span><span class="p">(</span><span class="n">extra_vars</span><span class="p">)</span>

The first element in the list of a defined custom parameter corresponds to the default value for that parameter
(both <span class="s">``None``</span> in the example above). The second element provides some informative help text, and the last element
indicates whether the parameter is mandatory (<span class="s">``MANDATORY``</span>) or just a custom parameter (<span class="s">``CUSTOM``</span>).


<span class="p">..</span> <span class="nt">_implementing_easyblocks_constructor:</span>

<span class="gh">Easyblock constructor</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~</span>

In the <span class="s">``class``</span> constructor of the easyblock, i.e. the <span class="s">``__init__``</span> method, one or more class variables
can be initialised. These can be used for sharing information between different <span class="s">``*_step``</span> methods in the easyblock.

For example:

<span class="p">..</span> <span class="ow">code</span><span class="p">::</span> <span class="k">python</span>

    <span class="kn">from</span> <span class="nn">easybuild.framework.easyblock</span> <span class="kn">import</span> <span class="n">EasyBlock</span>

    <span class="k">class</span> <span class="nc">EB_Example</span><span class="p">(</span><span class="n">EasyBlock</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Custom easyblock for Example&quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Constructor for Example easyblock, initialises class variables.&quot;&quot;&quot;</span>

            <span class="c1"># call out to original constructor first, so &#39;self&#39; (i.e. the class instance) is initialised</span>
            <span class="nb">super</span><span class="p">(</span><span class="n">EB_Example</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

            <span class="c1"># initialise class variables</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">var1</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">var2</span> <span class="o">=</span> <span class="kc">None</span>


<span class="p">..</span> <span class="nt">_implementing_easyblocks_files:</span>

<span class="gh">Reading/writing/copying/patching files</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

File manipulation is a common use case for implementing easyblocks, hence the EasyBuild framework provides a
number of useful functions related to this, including:

<span class="m">*</span> <span class="s">``read_file(&lt;path&gt;)``</span>: read file at a specified location and returns its contents

<span class="m">*</span> <span class="s">``write_file(&lt;path&gt;, &lt;text&gt;)``</span> at a specified location with provided contents;
  to append to an existing file, use <span class="s">``append=True``</span> as an extra argument

<span class="m">*</span> <span class="s">``copy_file(&lt;src&gt;, &lt;dest&gt;)``</span> to copy an existing file

<span class="m">*</span> <span class="s">``apply_regex_substitutions(&lt;path&gt;, &lt;list of regex substitutions&gt;)``</span> to patch an existing file

All of these functions are provided by the <span class="s">``easybuild.tools.filetools``</span> module.


<span class="p">..</span> <span class="nt">_implementing_easyblocks_commands:</span>

<span class="gh">Executing (interactive) shell commands</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

For executing shell commands two functions are provided by the <span class="s">``easybuild.tools.run``</span> module:

<span class="m">*</span> <span class="s">``run_cmd(&lt;cmd&gt;)``</span> to run a non-interactive shell command

<span class="m">*</span> <span class="s">``run_cmd_qa(&lt;cmd&gt;, &lt;dict with questions &amp; answers&gt;)``</span> to run an interactive shell command

Both of these accept a number of optional arguments:

<span class="m">*</span> <span class="s">``simple=True``</span> to just return <span class="s">``True``</span> or <span class="s">``False``</span> to indicate a successful execution,
  rather than the default return value, i.e., a tuple that provides the command output and the exit code (in that order)

<span class="m">*</span> <span class="s">``path=&lt;path&gt;``</span> to run the command in a specific subdirectory

The <span class="s">``run_cmd_qa``</span> function takes two additional specific arguments:

<span class="m">*</span> <span class="s">``no_qa=&lt;list&gt;``</span> to specify a list of patterns to recognize non-questions

<span class="m">*</span> <span class="s">``std_qa=&lt;dict&gt;``</span> to specify patterns for common questions and the matching answer


<span class="p">..</span> <span class="nt">_implementing_easyblocks_environment:</span>

<span class="gh">Manipulating the environment</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

To (re)define environment variables, the <span class="s">``setvar``</span> function provided by the <span class="s">``easybuild.tools.environment``</span> module
should be used.

This makes sure that the changes being made to the specified environment variable are kept track of,
and that they are handled correctly under <span class="s">``--extended-dry-run``</span>.


<span class="p">..</span> <span class="nt">_implementing_easyblocks_logging:</span>

<span class="gh">Log statements</span>
<span class="gh">~~~~~~~~~~~~~~</span>

It is good practice to include meaningful log messages in the <span class="s">``*_step``</span> methods being customised in the easyblock,
to enrich the build log with useful information for later debugging or diagnostics.

For logging, the provided <span class="s">``self.log``</span> logger class should be used, i.e. the <span class="s">``self.log.info``</span> or <span class="s">``self.log.debug``</span>
methods should be called.


<span class="p">..</span> <span class="nt">_implementing_easyblocks_sanity_check:</span>

<span class="gh">Custom (default) sanity check</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

For software-specific easyblocks, a custom sanity check is usually included to verify that the installation was
successful or not.

This is done by redefining the <span class="s">``sanity_check_step``</span> method in the easyblock. For example:

<span class="p">..</span> <span class="ow">code</span><span class="p">::</span> <span class="k">python</span>

    <span class="kn">from</span> <span class="nn">easybuild.framework.easyblock</span> <span class="kn">import</span> <span class="n">EasyBlock</span>

    <span class="k">class</span> <span class="nc">EB_Example</span><span class="p">(</span><span class="n">EasyBlock</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Custom easyblock for Example&quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">sanity_check_step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Custom sanity check for Example.&quot;&quot;&quot;</span>

            <span class="n">custom_paths</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;files&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;bin/example&#39;</span><span class="p">],</span>
                <span class="s1">&#39;dirs&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="p">}</span>
            <span class="n">custom_commands</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;example --version&#39;</span><span class="p">]</span>

            <span class="c1"># call out to parent to do the actual sanity checking, pass through custom paths and commands</span>
            <span class="nb">super</span><span class="p">(</span><span class="n">EB_Example</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">sanity_check_step</span><span class="p">(</span><span class="n">custom_paths</span><span class="o">=</span><span class="n">custom_paths</span><span class="p">,</span> <span class="n">custom_commands</span><span class="o">=</span><span class="n">custom_commands</span><span class="p">)</span>


You can both specify file path and subdirectories to check for, which are specified relative to the installation directory,
as well as simple commands that should execute successfully after completing the installation and loading the generated module file.

Note that it is up to you how extensive you make the sanity check, but it is recommended to make the check as complete
as possible to catch any potential build or installation problems that may occur.


<span class="p">..</span> <span class="nt">_implementing_easyblocks_version_specific:</span>

<span class="gh">Version-specific parts</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~</span>

In some case, version-specific actions or checks need to be included in an easyblock.
For this, it is recommended to use <span class="s">``LooseVersion``</span> rather than directly comparing version numbers using string values.

For example:


<span class="p">..</span> <span class="ow">code</span><span class="p">::</span> <span class="k">python</span>

    <span class="kn">from</span> <span class="nn">distutils.version</span> <span class="kn">import</span> <span class="n">LooseVersion</span>

    <span class="kn">from</span> <span class="nn">easybuild.framework.easyblock</span> <span class="kn">import</span> <span class="n">EasyBlock</span>

    <span class="k">class</span> <span class="nc">EB_Example</span><span class="p">(</span><span class="n">EasyBlock</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Custom easyblock for Example&quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">sanity_check_step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Custom sanity check for Example.&quot;&quot;&quot;</span>

            <span class="n">custom_paths</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;files&#39;</span><span class="p">:</span> <span class="p">[],</span>
                <span class="s1">&#39;dirs&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="p">}</span>

            <span class="c1"># in older version, the binary used to be named &#39;EXAMPLE&#39; rather than &#39;example&#39;</span>
            <span class="k">if</span> <span class="n">LooseVersion</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">LooseVersion</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">):</span>
                <span class="n">custom_paths</span><span class="p">[</span><span class="s1">&#39;files&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;bin/EXAMPLE&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">custom_paths</span><span class="p">[</span><span class="s1">&#39;files&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;bin/example&#39;</span><span class="p">)</span>

            <span class="nb">super</span><span class="p">(</span><span class="n">EB_Example</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">sanity_check_step</span><span class="p">(</span><span class="n">custom_paths</span><span class="o">=</span><span class="n">custom_paths</span><span class="p">)</span>


<span class="p">..</span> <span class="nt">_implementing_easyblocks_module_only_compatibility:</span>

<span class="gh">Compatibility with ``--extended-dry-run``/``-x`` and ``--module-only``</span>
<span class="gh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

Some special care must be taken to ensure that an easyblock is fully compatible with <span class="s">``--extended-dry-run``</span> / <span class="s">``-x``</span>
(see <span class="na">:ref:</span><span class="nv">`extended_dry_run`</span>) and <span class="s">``--module-only``</span> (see <span class="na">:ref:</span><span class="nv">`module_only`</span>).

For <span class="s">``--extended-dry-run``</span>/<span class="s">``-x``</span>, this is already well covered at <span class="na">:ref:</span><span class="nv">`extended_dry_run_guidelines_easyblocks_detect_dry_run`</span>.

For <span class="s">``--module-only``</span>, you should make sure that both the <span class="s">``make_module_step``</span>, including the <span class="s">``make_module_*``</span> submethods,
and the <span class="s">``sanity_check_step``</span> methods do not make any assumptions about the presence of certain environment variables
or that class variables have been defined already.

This needs to be handled with care since under <span class="s">``--module-only``</span> the large majority of the <span class="s">``*_step``</span> functions is
simply skipped entirely. So, if the <span class="s">``configure_step``</span> method is responsible for defining class variables that are
picked up in <span class="s">``sanity_check_step``</span>, the latter may run into unexpected initial values like <span class="s">``None``</span>.
A possible workaround is to define a separate custom method to define the class variables, and to call out to this
method from <span class="s">``configure_step``</span> and <span class="s">``sanity_check_step``</span> (for the latter, conditionally, i.e., only if the class
variables still have the initial values).


<span class="p">..</span> <span class="nt">_implementing_easyblocks_using:</span>

<span class="gh">Using new/custom easyblocks</span>
<span class="gh">---------------------------</span>

The best way to make EasyBuild aware of new or customized easyblocks is via <span class="s">``--include-easyblocks``</span>,
see <span class="na">:ref:</span><span class="nv">`include_easyblocks`</span> for more information.

To verify that your easyblocks are indeed picked up correctly, you can use <span class="s">``--list-easyblocks=detailed``</span>,
see also <span class="na">:ref:</span><span class="nv">`list_easyblocks`</span>.


<span class="p">..</span> <span class="nt">_implementing_easyblocks_testing:</span>

<span class="gh">Testing easyblocks</span>
<span class="gh">------------------</span>

Before testing your easyblock implementation by actually building and installing the software package(s) it
was implemented for, it is recommended to:

<span class="m">*</span> study the output produced by <span class="s">``--extended-dry-run``</span>/<span class="s">``-x``</span>
<span class="m">*</span> evaluate the generated module file that is obtained by using <span class="s">``--module-only --force``</span>

For the output of <span class="s">``--extended-dry-run``</span>/<span class="s">``-x``</span>, there should be no ignored errors (cfr. <span class="na">:ref:</span><span class="nv">`extended_dry_run_notes_ignored_errors`</span>),
that is the end of the output produced should include this message:

<span class="p">..</span> <span class="ow">code</span><span class="p">::</span>

  (no ignored errors during dry run)


With <span class="s">``--module-only --force``</span>, the easyblock complete successfully without crashing, and should generate a module
file that includes everything that is expected (except for statements that require that the actual installation was
performend).


<span class="p">..</span> <span class="nt">_implementing_easyblocks_use_case_tensorlow:</span>

<span class="gh">Use case: an easyblock for Tensorflow</span>
<span class="gh">-------------------------------------</span>

<span class="ge">*(work in progress)*</span>
</code></pre></div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">October 24, 2022</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://twitter.com/easy_build" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.youtube.com/c/easybuilders" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://docs.easybuild.io" target="_blank" rel="noopener" title="docs.easybuild.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96zm0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["instant", "navigation.top"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8492ddcf.min.js"></script>
      
    
  </body>
</html>